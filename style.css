/* Add these at the very top of style.css */
:root {
    --bg: #c9c9c9; /* light mode body background */
    --text-color: #1e293b; /* light mode text color */
    --header-bg: #ffffff; /* light mode header background */
    --card-bg: #ffffff; /* light mode card background */
    --section-bg-light: #f3f4f6; /* light mode gray-100 */
    --section-bg-white: #ffffff; /* light mode white */
    --blue-600: #2563eb; /* A strong blue for active states */
    --blue-700: #1d4ed8;
    --green-600: #16a34a;

    /* Variables for the theme toggle button */
    --primary: #3b82f6; /* A strong blue for active states */
    --primaryT: rgba(59, 130, 246, 0.5); /* Transparent version of primary */
    --transDur: 0.3s; /* Transition duration for theme toggle */
}

body.dark-mode {
    --bg: #1a202c; /* dark mode body background (e.g., slate-900) */
    --text-color: #e2e8f0; /* dark mode text color (e.g., slate-200) */
    --header-bg: #2d3748; /* dark mode header background */
    --card-bg: #4a5568; /* dark mode card background */
    --section-bg-light: #2d3748; /* dark mode section background (e.g., gray-800) */
    --section-bg-white: #2d3748; /* dark mode white sections */
    --blue-600: #3b82f6; /* Adjust blue for dark mode */
    --blue-700: #2563eb;
    --green-600: #10b981; /* Adjust green for dark mode */

    /* Variables for the theme toggle button in dark mode */
    --primary: #6366f1; /* A slightly different blue for dark mode primary */
    --primaryT: rgba(99, 102, 241, 0.5); /* Transparent version */
}

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg); /* Use CSS variable */
    color: var(--text-color); /* Use CSS variable */
    transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition */
}
/* Custom styles for better aesthetics */
.product-card {
    background-color: var(--card-bg); /* Use variable */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Tailwind's shadow-xl */
    transition: background-color 0.3s ease;
}
.btn-primary {
    background-color: #3b82f6; /* Tailwind's blue-500 */
    transition: background-color 0.2s ease-in-out;
}
.btn-primary:hover {
    background-color: var(--blue-600); /* Tailwind's blue-600 */
}
.btn-success {
    background-color: #22c55e; /* Tailwind's green-500 */
    transition: background-color 0.2s ease-in-out;
}
.btn-success:hover {
    background-color: var(--green-600); /* Tailwind's green-600 */
}
.quantity-btn {
    background-color: #e2e8f0; /* Tailwind's slate-200 */
    transition: background-color 0.2s ease-in-out;
}
.quantity-btn:hover {
    background-color: #cbd5e1; /* Tailwind's slate-300 */
}
.cart-count {
    background-color: #ef4444; /* Tailwind's red-500 */
    min-width: 20px;
    height: 20px;
    font-size: 0.75rem; /* text-xs */
    line-height: 1rem; /* leading-none */
}
/* Modal styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}
.modal-content {
    background-color: var(--card-bg);
    padding: 2rem;
    border-radius: 0.75rem; /* rounded-xl */
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* shadow-2xl */
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    transition: background-color 0.3s ease;
}
.modal-content h3 {
    color: var(--text-color);
}
.close-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #4b5563; /* Tailwind's gray-600 */
}
/* Boleto specific styles */
.boleto-representation {
    border: 1px solid #ccc;
    padding: 1.5rem;
    border-radius: 0.5rem;
    background-color: var(--section-bg-light);
    font-family: monospace;
    font-size: 0.9rem;
    transition: background-color 0.3s ease;
}
.boleto-line {
    font-weight: bold;
    font-size: 1.1rem;
    color: var(--text-color);
    margin-bottom: 0.5rem;
    word-break: break-all; /* Ensures long numbers wrap */
}
.boleto-info {
    margin-top: 1rem;
    font-size: 0.85rem;
    color: var(--text-color);
}

/* Animation styles for the confirm order button */
#confirm-order-btn {
    position: relative;
    overflow: hidden; /* Hide overflowing content during transformation */
    transition: all 0.6s ease-in-out, transform 0.6s ease-in-out;
    display: flex; /* Ensure flex for centering content */
    justify-content: center;
    align-items: center;
}

/* Initial state: Button */
#confirm-order-btn.button-state {
    z-index: 3;
    opacity: 1;
    transform: rotateY(0deg);
    background-color: #22c55e; /* Green button */
    width: 100%; /* Full width as per original design */
    height: auto; /* Auto height as per original design */
    padding: 1rem 2rem; /* Original padding */
}

/* Box state */
#confirm-order-btn.box-state {
    background-color: #facc15; /* Yellow box */
    width: 80px; /* Smaller for box */
    height: 80px; /* Taller for box */
    border-radius: 12px;
    transform: scale(1.5) rotateY(0deg); /* Scale up to be a box */
    opacity: 1;
    z-index: 2;
    margin: 0 auto; /* Center the box */
}

/* Truck state */
#confirm-order-btn.truck-state {
    background-color: #ef4444; /* Red truck */
    width: 150px; /* Wider for truck */
    height: 80px; /* Same height as box for simplicity */
    border-radius: 12px;
    transform: scale(1.8) translateX(0) rotateY(0deg); /* Scale and translate for truck */
    opacity: 1;
    z-index: 1;
    position: relative; /* For truck details */
    display: block; /* Allow internal elements to flow */
    padding: 10px;
    box-sizing: border-box;
    margin: 0 auto; /* Center the truck */
}

/* Text visibility during transitions */
#confirm-order-btn.button-state .button-text-animation { opacity: 1; }
#confirm-order-btn.box-state .button-text-animation { opacity: 0; }
#confirm-order-btn.truck-state .button-text-animation { opacity: 0; }


/* Truck specific elements (simplified) */
.truck-body {
    width: 100%;
    height: 100%;
    background-color: #ef4444; /* Red */
    border-radius: 8px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 1.5rem;
}

.truck-wheels {
    position: absolute;
    bottom: -15px; /* Position below the truck body */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
}

.wheel {
    width: 20px;
    height: 20px;
    background-color: #333;
    border-radius: 50%;
    border: 2px solid #555;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
}

/* Keyframe animation for truck movement */
@keyframes driveTruck {
    0% { transform: translateX(0); opacity: 1; }
    99% { opacity: 1; } /* Keep visible until almost off-screen */
    100% { transform: translateX(calc(100vw + 200px)); opacity: 0; } /* Drive off screen and disappear */
}

#confirm-order-btn.truck-driving {
    animation: driveTruck 3s forwards ease-out; /* Apply animation */
}

/* Hide content during transition to avoid visual glitches */
#confirm-order-btn:not(.button-state) .button-text-animation {
    opacity: 0;
    transition: opacity 0.2s;
}
#confirm-order-btn:not(.box-state) .box-icon-animation {
    opacity: 0;
    transition: opacity 0.2s;
}
#confirm-order-btn:not(.truck-state) .truck-icon-animation {
    opacity: 0;
    transition: opacity 0.2s;
}

/* Icons for visual representation */
.icon-animation {
    font-size: 2rem;
    color: white;
    position: absolute;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}
#confirm-order-btn.box-state .box-icon-animation { opacity: 1; }
#confirm-order-btn.truck-state .truck-icon-animation { opacity: 1; }

/* Tracking status styles */
.tracking-stage {
    display: flex;
    align-items: center;
    padding: 0.75rem 1rem;
    border-radius: 0.5rem;
    background-color: var(--section-bg-light);
    color: var(--text-color);
    font-weight: 500; /* medium */
    transition: background-color 0.3s ease, color 0.3s ease;
}
.tracking-stage.active {
    background-color: var(--primaryT); /* blue-100 equivalent in dark mode */
    color: var(--text-color);
    font-weight: 600; /* semibold */
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
.tracking-stage.completed {
    background-color: #d1fae5; /* green-100 */
    color: #065f46; /* green-800 */
}
.tracking-stage .icon {
    margin-right: 0.75rem;
    font-size: 1.25rem;
}

/* Botão Flutuante de Ajuda */
.help-float {
    position: fixed;
    width: 60px;
    height: 60px;
    bottom: 40px;
    right: 40px;
    background-color: #3b82f6; /* Cor azul similar ao botão da imagem (Tailwind blue-500) */
    color: #FFF;
    border-radius: 50px;
    text-align: center;
    font-size: 30px; /* Tamanho do ícone/emoji */
    line-height: 60px; /* Alinha verticalmente o conteúdo (para ícones de texto/emoji) */
    box-shadow: 2px 2px 3px rgba(0,0,0,0.3);
    z-index: 1000; /* Garante que fique acima de outros elementos */
    display: flex; /* Para centralizar o conteúdo */
    justify-content: center;
    align-items: center;
    transition: transform 0.3s ease-in-out, background-color 0.3s ease-in-out;
}

.help-float:hover {
    transform: scale(1.1);
    background-color: var(--blue-600); /* Um azul um pouco mais escuro ao passar o mouse */
}

/* Se você usar uma imagem para o ícone */
.help-float img {
    width: 35px; /* Ajuste o tamanho da imagem do ícone conforme necessário */
    height: 35px;
    /* Adicione 'filter: brightness(0) invert(1);' se seu ícone for preto e você quiser que ele fique branco */
}

/* Ajustes para telas menores */
@media (max-width: 768px) {
    .help-float {
        width: 50px;
        height: 50px;
        bottom: 20px;
        right: 20px;
        font-size: 25px;
        line-height: 50px;
    }

    .help-float img {
        width: 30px;
        height: 30px;
    }
}


/* Commenting out the original uv-background-animated as theme toggle handles background */
/*
@keyframes uv-gradient-animation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}
.uv-background-animated {
    background: linear-gradient(270deg, #864fad, #a88cc2, #bab3c5, #ffffff); 
    background-size: 400% 400%;
    animation: uv-gradient-animation 15s ease infinite;
}
*/

/* From Uiverse.io by hannahyockel */ 
.remove-button {
 display: flex;
 flex-direction: column;
 justify-content: center;
 align-items: center;
 padding: 1em;
 border: 0px solid transparent;
 background-color: rgba(100,77,237,0.08);
 border-radius: 1.25em;
 transition: all 0.2s linear;
}

.remove-button:hover {
 box-shadow: 3.4px 2.5px 4.9px rgba(0, 0, 0, 0.025),
  8.6px 6.3px 12.4px rgba(0, 0, 0, 0.035),
  17.5px 12.8px 25.3px rgba(0, 0, 0, 0.045),
  36.1px 26.3px 52.2px rgba(0, 0, 0, 0.055),
  99px 72px 143px rgba(0, 0, 0, 0.08);
}

.remove-button .tooltip {
 position: relative;
 display: inline-block;
}

.remove-button .tooltiptext {
 visibility: hidden;
 width: 4em;
 background-color: rgba(0, 0, 0, 0.253);
 color: #fff;
 text-align: center;
 border-radius: 6px;
 padding: 5px 0;
 position: absolute;
 z-index: 1;
 top: 25%;
 left: 110%;
}

.remove-button .tooltiptext::after {
 content: "";
 position: absolute;
 top: 50%;
 right: 100%;
 margin-top: -5px;
 border-width: 5px;
 border-style: solid;
 border-color: transparent rgba(0, 0, 0, 0.253) transparent transparent;
}

.remove-button .tooltip:hover .tooltiptext {
 visibility: visible;
}


/* From Uiverse.io by JkHuger */
/* Default */
.theme {
  display: flex;
  align-items: center;
  -webkit-tap-highlight-color: transparent;
}

.theme__fill,
.theme__icon {
  transition: var(--transDur);
}

.theme__fill {
  background-color: var(--bg);
  display: block;
  mix-blend-mode: difference;
  position: fixed;
  inset: 0;
  height: 100%;
  transform: translateX(-100%);
}

.theme__icon,
.theme__toggle {
  z-index: 1;
}

.theme__icon,
.theme__icon-part {
  position: absolute;
}

.theme__icon {
  display: block;
  top: 0.5em;
  left: 0.5em;
  width: 1.5em;
  height: 1.5em;
}

.theme__icon-part {
  border-radius: 50%;
  box-shadow: 0.4em -0.4em 0 0.5em hsl(0,0%,100%) inset;
  top: calc(50% - 0.5em);
  left: calc(50% - 0.5em);
  width: 1em;
  height: 1em;
  transition: box-shadow var(--transDur) ease-in-out,
		opacity var(--transDur) ease-in-out,
		transform var(--transDur) ease-in-out;
  transform: scale(0.5);
}

.theme__icon-part ~ .theme__icon-part {
  background-color: hsl(0,0%,100%);
  border-radius: 0.05em;
  top: 50%;
  left: calc(50% - 0.05em);
  transform: rotate(0deg) translateY(0.5em);
  transform-origin: 50% 0;
  width: 0.1em;
  height: 0.2em;
}

.theme__icon-part:nth-child(3) {
  transform: rotate(45deg) translateY(0.45em);
}

.theme__icon-part:nth-child(4) {
  transform: rotate(90deg) translateY(0.45em);
}

.theme__icon-part:nth-child(5) {
  transform: rotate(135deg) translateY(0.45em);
}

.theme__icon-part:nth-child(6) {
  transform: rotate(180deg) translateY(0.45em);
}

.theme__icon-part:nth-child(7) {
  transform: rotate(225deg) translateY(0.45em);
}

.theme__icon-part:nth-child(8) {
  transform: rotate(270deg) translateY(0.5em);
}

.theme__icon-part:nth-child(9) {
  transform: rotate(315deg) translateY(0.5em);
}

.theme__label,
.theme__toggle,
.theme__toggle-wrap {
  position: relative;
}

.theme__toggle,
.theme__toggle:before {
  display: block;
}

.theme__toggle {
  background-color: hsl(48,90%,85%);
  border-radius: 25% / 50%;
  box-shadow: 0 0 0 0.125em var(--primaryT);
  padding: 0.25em;
  width: 6em;
  height: 3em;
  -webkit-appearance: none;
  appearance: none;
  transition: background-color var(--transDur) ease-in-out,
		box-shadow 0.15s ease-in-out,
		transform var(--transDur) ease-in-out;
}

.theme__toggle:before {
  background-color: hsl(48,90%,55%);
  border-radius: 50%;
  content: "";
  width: 2.5em;
  height: 2.5em;
  transition: 0.3s;
}

.theme__toggle:focus {
  box-shadow: 0 0 0 0.125em var(--primary);
  outline: transparent;
}

/* Checked */
.theme__toggle:checked {
  background-color: hsl(198,90%,15%);
}

.theme__toggle:checked:before,
.theme__toggle:checked ~ .theme__icon {
  transform: translateX(3em);
}

.theme__toggle:checked:before {
  background-color: hsl(198,90%,55%);
}

.theme__toggle:checked ~ .theme__fill {
  transform: translateX(0);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(1) {
  box-shadow: 0.2em -0.2em 0 0.2em hsl(0,0%,100%) inset;
  transform: scale(1);
  top: 0.2em;
  left: -0.2em;
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part ~ .theme__icon-part {
  opacity: 0;
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(2) {
  transform: rotate(45deg) translateY(0.8em);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(3) {
  transform: rotate(90deg) translateY(0.8em);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(4) {
  transform: rotate(135deg) translateY(0.8em);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(5) {
  transform: rotate(180deg) translateY(0.8em);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(6) {
  transform: rotate(225deg) translateY(0.8em);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(7) {
  transform: rotate(270deg) translateY(0.8em);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(8) {
  transform: rotate(315deg) translateY(0.8em);
}

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(9) {
  transform: rotate(360deg) translateY(0.8em);
}

.theme__toggle-wrap {
  margin: 0 0.75em;
}

@supports selector(:focus-visible) {
  .theme__toggle:focus {
    box-shadow: 0 0 0 0.125em var(--primaryT);
  }

  .theme__toggle:focus-visible {
    box-shadow: 0 0 0 0.125em var(--primary);
  }
}
